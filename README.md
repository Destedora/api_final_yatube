# Проект «API для Yatube»

## Стек

- Python 
- Django 
- Django REST Framework 
- Djoser 
- JWT


## Описание

В данном проект осуществлена реализация API для блога Yatube,
что позволяет в свою очередь: 
- публиковать, 
- искать, 
- редактировать записи, 
- просматривать группы, 
- а также управлять комментариями. 

Кроме того, доступна подписка на других пользователей. 
Администратор может управлять группами.
Для редактирования и удаления контента требуется аутентификация пользователя, 
которая  осуществляется через JWT-токены.
Тестирование API проведено с использованием pytest.


## Библиотеки

```
Django==3.2.16
pytest==6.2.4
pytest-pythonpath==0.7.3
pytest-django==4.4.0
djangorestframework==3.12.4
djangorestframework-simplejwt==4.7.2
Pillow==9.3.0
PyJWT==2.1.0
requests==2.26.0
djoser==2.1.0
django-filter==23.2
```


## Запуск проекта 

### Клонировать репозиторий:

```
git clone git@github.com:Destedora/api_final_yatube.git
```

### Cоздать виртуальное окружение:

```
python -m venv venv
```

### Активировать виртуальное окружение:


- Для Windows:
```
source venv/scripts/activate
```
- Для Linux/macOS:
```
source env/bin/activate
```

### Обновить менеджер пакетов pip:

```
python -m pip install --upgrade pip
```

### Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

### Выполнить миграции:

```
python manage.py migrate
```

### Запустить проект:

```
python manage.py runserver
```
### Дополнительная документация проекта:

```
http://127.0.0.1:8000/redoc/
```
## Тестирование проекта:
- При запущенном виртуальном окружении 
из корня проекта выполните комануду: 
```
pytest
```
- Подробная инструкция по работе с Postman-коллекцией 
для проверки API находится в файле `/postman_collection/README.md`.

## Примеры запросов к API

### Эндпоинт для работы с пользователями: 
```
api/v1/users/
```
`GET`, `POST`, `PUT`, `DELETE` - только для авторизованных пользователей

### Эндпоинт для работы с подписками пользователей: 
```
api/v1/follow/
```
`GET`, `POST`  - только для авторизованных пользователей

### Эндпоинт для работы группами:
```
api/v1/groups/ 
```
`GET` - только для авторизованных пользователей

### Эндпоинт для работы с публикациями:
```
api/v1/posts/
```
#### Пример ответа для POST:
```
{ "id": 1,
  "text": "Текст поста",
  "author": "username",
  "created_at": "2024-04-10T12:48:33Z"}
```  
`GET` - доступно для неавторизованных пользователей \
`POST`, `PUT`, `DELETE` - только для авторизованных пользователей 

### Эндпоинт для работы комментариями:
```
api/v1/posts/{post_id}/comments/ 
```
`GET` - доступно для неавторизованных пользователей \
`POST`, `PUT`, `DELETE` - только для авторизованных пользователей
